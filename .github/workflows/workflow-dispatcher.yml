name: Workflow dispatcher
on:
  workflow_dispatch: 
    inputs: 
      Backfill:
        required: true
        type: boolean
      Main:
        required: true
        type: boolean  
      env:
        required: false
        type: string
      tag:
        required: false
        type: string  
        
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Check valid environment
        id: check_env
        env:
          validEnv: ${{ contains(fromJson('["dv01", "dv02","dv03","dv04","dv05"]'), inputs.env) }}
        run: |
          if [[ ${{ jobs.check_env.env.validEnv }}; then 
            echo 'Hello ${{ inputs.env }}!'
          else
            echo 'Invalid environment!'  